digraph threeElementQueue{
    node [shape = circle];
    {rank= same; nil;}
    {rank=same; A;B;C}
    {rank = same; AA; AB; AC; BA; BB; BC; CA; CB; CC;}
    {rank=same; AAA; AAB; AAC; ABA; ABB; ABC; ACA; ACB; ACC; BAA; BAB; BAC; BBA; BBB; BBC; BCA; BCB; BCC; CAA; CAB; CAC; CBA; CBB; CBC; CCA; CCB; CCC;}
    
    edge [ color="red"]
    nil -> A [ label= ".A"];
    nil -> B [ label= ".B"];
    nil -> C [ label= ".C"];
    A -> AA [ label= ".A"];
    A -> AB [ label= ".B"];
    A -> AC [ label= ".C"];
    B -> BA [ label= ".A"];
    B -> BB [ label= ".B"];
    B -> BC [ label= ".C"];
    C -> CA [ label= ".A"];
    C -> CB [ label= ".B"];
    C -> CC [ label= ".C"];
    AA -> AAA [ label= ".A"];
    AA -> AAB [ label= ".B"];
    AA -> AAC [ label= ".C"];
    AB -> ABA [ label= ".A"];
    AB -> ABB [ label= ".B"];
    AB -> ABC [ label= ".C"];
    AC -> ACA [ label= ".A"];
    AC -> ACB [ label= ".B"];
    AC -> ACC [ label= ".C"];
    BA -> BAA [ label= ".A"];
    BA -> BAB [ label= ".B"];
    BA -> BAC [ label= ".C"];
    BB -> BBA [ label= ".A"];
    BB -> BBB [ label= ".B"];
    BB -> BBC [ label= ".C"];
    BC -> BCA [ label= ".A"];
    BC -> BCB [ label= ".B"];
    BC -> BCC [ label= ".C"];
    CA -> CAA [ label= ".A"];
    CA -> CAB [ label= ".B"];
    CA -> CAC [ label= ".C"];
    CB -> CBA [ label= ".A"];
    CB -> CBB [ label= ".B"];
    CB -> CBC [ label= ".C"];
    CC -> CCA [ label= ".A"];
    CC -> CCB [ label= ".B"];
    CC -> CCC [ label= ".C"];

    edge [color="blue"]
    A -> nil [ label= ","];
    B -> nil [ label= ","];
    C -> nil [ label= ","];
    AA -> A [ label= ","];
    AB -> B [ label= ","];
    AC -> C [ label= ","];
    BA -> A [ label= ","];
    BB -> B [ label= ","];
    BC -> C [ label= ","];
    CA -> A [ label= ","];
    CB -> B [ label= ","];
    CC -> C [ label= ","];
    AAA -> AA [ label= ","];
    AAB -> AB [ label= ","];
    AAC -> AC [ label= ","];
    ABA -> BA [ label= ","];
    ABB -> BB [ label= ","];
    ABC -> BC [ label= ","];
    ACA -> CA [ label= ","];
    ACB -> CB [ label= ","];
    ACC -> CC [ label= ","];
    BAA -> AA [ label= ","];
    BAB -> AB [ label= ","];
    BAC -> AC [ label= ","];
    BBA -> BA [ label= ","];
    BBB -> BB [ label= ","];
    BBC -> BC [ label= ","];
    BCA -> CA [ label= ","];
    BCB -> CB [ label= ","];
    BCC -> CC [ label= ","];
    CAA -> AA [ label= ","];
    CAB -> AB [ label= ","];
    CAC -> AC [ label= ","];
    CBA -> BA [ label= ","];
    CBB -> BB [ label= ","];
    CBC -> BC [ label= ","];
    CCA -> CA [ label= ","];
    CCB -> CB [ label= ","];
    CCC -> CC [ label= ","];
}

